# FlakeGuard Worker Environment Configuration
# Copy to .env and customize for your environment

# ============================================================================
# Core Configuration
# ============================================================================

# Environment (development, production, test)
NODE_ENV=development

# Database URL (PostgreSQL)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/flakeguard?schema=public"

# Redis Configuration
REDIS_URL="redis://localhost:6379"
REDIS_CLUSTER_ENABLED=false
# REDIS_CLUSTER_NODES=localhost:6379,localhost:6380,localhost:6381

# ============================================================================
# Worker Configuration
# ============================================================================

# Worker concurrency settings
WORKER_CONCURRENCY=5
WORKER_NAME=flakeguard-worker

# Logging level (trace, debug, info, warn, error, fatal)
LOG_LEVEL=info

# ============================================================================
# GitHub Configuration
# ============================================================================

# GitHub App credentials
GITHUB_APP_ID=your_app_id_here
GITHUB_PRIVATE_KEY="FAKE_PRIVATE_KEY_FOR_TESTS"
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# GitHub API configuration
GITHUB_API_BASE_URL=https://api.github.com

# ============================================================================
# Polling Configuration
# ============================================================================

# Enable/disable periodic polling
POLLING_ENABLED=true

# Polling interval in minutes
POLLING_INTERVAL_MINUTES=5

# Batch size for repository polling
POLLING_BATCH_SIZE=10

# ============================================================================
# Monitoring Configuration
# ============================================================================

# Metrics collection
METRICS_ENABLED=true
METRICS_PORT=9090

# Health check endpoint
HEALTH_CHECK_PORT=8080

# ============================================================================
# Performance Configuration
# ============================================================================

# Node.js memory settings
NODE_OPTIONS="--max-old-space-size=2048"

# ============================================================================
# Feature Flags
# ============================================================================

# Enable/disable specific features
FEATURE_FLAKINESS_ANALYSIS=true
FEATURE_AUTO_QUARANTINE=true
FEATURE_GITHUB_CHECK_RUNS=true