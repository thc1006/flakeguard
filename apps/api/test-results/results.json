{"numTotalTestSuites":9,"numPassedTestSuites":9,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":24,"numPassedTests":23,"numFailedTests":1,"numPendingTests":0,"numTodoTests":0,"startTime":1756150582902,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["","Database Health Checks","checkDatabaseHealth"],"fullName":" Database Health Checks checkDatabaseHealth should return healthy status for responsive database","status":"passed","title":"should return healthy status for responsive database","duration":3,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseHealth"],"fullName":" Database Health Checks checkDatabaseHealth should return degraded status for slow database","status":"passed","title":"should return degraded status for slow database","duration":714,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseHealth"],"fullName":" Database Health Checks checkDatabaseHealth should return unhealthy status for database connection failure","status":"passed","title":"should return unhealthy status for database connection failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkConnectionPool"],"fullName":" Database Health Checks checkConnectionPool should return healthy status for normal connection pool usage","status":"passed","title":"should return healthy status for normal connection pool usage","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkConnectionPool"],"fullName":" Database Health Checks checkConnectionPool should return degraded status for high connection pool usage","status":"passed","title":"should return degraded status for high connection pool usage","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkConnectionPool"],"fullName":" Database Health Checks checkConnectionPool should return unhealthy status for connection pool at capacity","status":"passed","title":"should return unhealthy status for connection pool at capacity","duration":0,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkConnectionPool"],"fullName":" Database Health Checks checkConnectionPool should handle connection pool check failure","status":"passed","title":"should handle connection pool check failure","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkMigrationStatus"],"fullName":" Database Health Checks checkMigrationStatus should return healthy status for all migrations applied","status":"passed","title":"should return healthy status for all migrations applied","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkMigrationStatus"],"fullName":" Database Health Checks checkMigrationStatus should return degraded status for pending migrations","status":"passed","title":"should return degraded status for pending migrations","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkMigrationStatus"],"fullName":" Database Health Checks checkMigrationStatus should return unhealthy status for failed migrations","status":"passed","title":"should return unhealthy status for failed migrations","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkMigrationStatus"],"fullName":" Database Health Checks checkMigrationStatus should return unhealthy status when migrations table does not exist","status":"passed","title":"should return unhealthy status when migrations table does not exist","duration":0,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","validateTenantIsolation"],"fullName":" Database Health Checks validateTenantIsolation should return healthy status with no isolation violations","status":"passed","title":"should return healthy status with no isolation violations","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","validateTenantIsolation"],"fullName":" Database Health Checks validateTenantIsolation should return degraded status with minor isolation violations","status":"failed","title":"should return degraded status with minor isolation violations","duration":10,"failureMessages":["expected 'unhealthy' to be 'degraded' // Object.is equality","expected 'unhealthy' to be 'degraded' // Object.is equality","expected 'unhealthy' to be 'degraded' // Object.is equality"],"location":{"line":261,"column":29}},{"ancestorTitles":["","Database Health Checks","validateTenantIsolation"],"fullName":" Database Health Checks validateTenantIsolation should return unhealthy status with serious isolation violations","status":"passed","title":"should return unhealthy status with serious isolation violations","duration":0,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkQueryPerformance"],"fullName":" Database Health Checks checkQueryPerformance should return healthy status for good query performance","status":"passed","title":"should return healthy status for good query performance","duration":2,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkQueryPerformance"],"fullName":" Database Health Checks checkQueryPerformance should return degraded status for poor query performance","status":"passed","title":"should return degraded status for poor query performance","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkQueryPerformance"],"fullName":" Database Health Checks checkQueryPerformance should fall back to basic performance check when pg_stat_statements unavailable","status":"passed","title":"should fall back to basic performance check when pg_stat_statements unavailable","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","getDatabaseStatistics"],"fullName":" Database Health Checks getDatabaseStatistics should return comprehensive database statistics","status":"passed","title":"should return comprehensive database statistics","duration":2,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","getDatabaseStatistics"],"fullName":" Database Health Checks getDatabaseStatistics should handle database statistics query failure","status":"passed","title":"should handle database statistics query failure","duration":2,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseIssues"],"fullName":" Database Health Checks checkDatabaseIssues should return empty array when no issues detected","status":"passed","title":"should return empty array when no issues detected","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseIssues"],"fullName":" Database Health Checks checkDatabaseIssues should detect long-running queries","status":"passed","title":"should detect long-running queries","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseIssues"],"fullName":" Database Health Checks checkDatabaseIssues should detect blocked queries","status":"passed","title":"should detect blocked queries","duration":1,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseIssues"],"fullName":" Database Health Checks checkDatabaseIssues should detect high connection usage","status":"passed","title":"should detect high connection usage","duration":2,"failureMessages":[]},{"ancestorTitles":["","Database Health Checks","checkDatabaseIssues"],"fullName":" Database Health Checks checkDatabaseIssues should handle database issues check failure","status":"passed","title":"should handle database issues check failure","duration":1,"failureMessages":[]}],"startTime":1756153862124,"endTime":1756153862880,"status":"failed","message":"","name":"C:/Users/thc1006/Desktop/dev/flakeguard/apps/api/src/utils/__tests__/database-health.test.ts"}]}