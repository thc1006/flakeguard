# =============================================================================
# FlakeGuard API Environment Configuration
# =============================================================================

# Node Environment
NODE_ENV=development

# Server Configuration
PORT=3000
HOST=0.0.0.0

# Database
DATABASE_URL="postgresql://username:password@localhost:5432/flakeguard"
REDIS_URL="redis://localhost:6379"

# Security
JWT_SECRET="your-super-secure-jwt-secret-minimum-32-characters-long"
API_KEY="your-api-key-minimum-16-chars"

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# Logging
LOG_LEVEL=info

# CORS
CORS_ORIGIN="http://localhost:3000"

# =============================================================================
# Feature Flags
# =============================================================================

# Enable/disable Slack integration
ENABLE_SLACK_APP=false

# Enable/disable GitHub webhooks
ENABLE_GITHUB_WEBHOOKS=true

# Enable/disable quarantine actions
ENABLE_QUARANTINE_ACTIONS=true

# =============================================================================
# GitHub App Configuration
# =============================================================================

# GitHub App ID (numeric)
GITHUB_APP_ID=123456

# GitHub Private Key (PEM format or file path)
# Option 1: Inline key (escape newlines with \n)
GITHUB_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQ...\n-----END PRIVATE KEY-----"

# Option 2: File path to private key
# GITHUB_PRIVATE_KEY_PATH="/path/to/private-key.pem"

# GitHub App secrets
GITHUB_WEBHOOK_SECRET="your-webhook-secret"
GITHUB_CLIENT_ID="Iv1.your-client-id"
GITHUB_CLIENT_SECRET="your-client-secret"

# =============================================================================
# Slack App Configuration (only required if ENABLE_SLACK_APP=true)
# =============================================================================

# Slack signing secret for request verification
SLACK_SIGNING_SECRET="your-slack-signing-secret"

# Slack bot token (starts with xoxb-)
SLACK_BOT_TOKEN="xoxb-your-bot-token"

# Slack app token for socket mode (starts with xapp-) - optional
SLACK_APP_TOKEN="xapp-your-app-token"

# Slack app server port (separate from main API)
SLACK_PORT=3001

# Process requests before responding (recommended: true)
SLACK_PROCESS_BEFORE_RESPONSE=true

# =============================================================================
# Development Tools
# =============================================================================

# ngrok URL for local development (if using ngrok for webhooks)
# NGROK_URL="https://abc123.ngrok.io"